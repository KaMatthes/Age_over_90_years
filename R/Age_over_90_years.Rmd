---
title: "Age over 90 years"
author: "Katarina Matthes"
date: "`r Sys.Date()`"
output:
  rmdformats::robobook:
    code_folding: show
    self_contained: true
    highlight: pygments
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
```

# Maps

Es scheint so, als ob im Tessin mehr über 90 Jährige leben verglichen zu den anderen Sprachregionen. Dies ist 1888 und 1900 ersichtlich. Das mehr über 90 Jährige in den Alpinenregionen leben ist auf den Karten nicht ersichtlich.

```{r, echo=FALSE,message=FALSE,fig.height = 12,  fig.width = 15}
function_mapsPLZ(Year=1888, Place="Residential")
```

```{r, echo=FALSE,message=FALSE,fig.height = 12,  fig.width = 15}
function_mapsPLZ(Year=1900, Place="Residential")
```

# Unterschiede Sprachregionen

Es gibt einen signifikanten Unterschied zwischen den Sprachregionen der Schweiz und dem Anteil Ü90 Jähriger.

* Poisson Regression
* Da die Anzahl der Ü90 in 3 Datensätze unterschiedlich sind, habe ich die Regression auch noch für den UniGe Datensatz durchgeführt (dort weiss ich die Sprachregionen). 
* Im Datensatz "AgeDistribution" habe ich nur die Altersverteilung der gesamten Schweiz, aber nicht nach Sprachregionen.
* Die Anzahl der Ü90 im AgeDistrubtion file erscheint mir verglichen zu dem "Original" Datensatz und dem UniGe Datensatz ein wenig zu hoch.
* Die Gesamtbevölkerung erscheint mir wiederrum im UniGe Datensatz zu niedrig
* Für die Berechnung des "Original" Datensatzes habe ich die beoachteten Werte aus dem Datensatz genommen und die Bevölkerung nach Sprachregionen aus dem Datensatz "Population_district_1860_2008.xlsx" (Ich weiss nicht, wo der herkommt. Habe ihn für mein UniGe Projekt benutzt)
* Für die UniGe Daten von 1888, sind alle Daten aus der Volkszählung 


## Tabelle 

```{r echo=FALSE}
load("../data/data.obs.exp.language.RData")
data.obs.exp.language %>%
  kbl() %>%
  kable_material(c("striped", "hover"),full_width = F,position = "left")
```


## Poisson Regression Original - 1888

Der Französische Teil und der Italienische Teil haben signifikant mehr Ü90 Jährige als der Deutschsprachige Teil

```{r, echo=FALSE,message=FALSE,fig.height = 12,  fig.width = 15}
function_language_diff(dataset="Original", YearM=1888, Both="no")
```

## Poisson Regression UniGe - 1900
Das Ergebniss von den "Original" Daten kann mit den UniGe Daten bestätigt werden.
Der Französische Teil und der Italienische Teil haben signifikant mehr Ü90 Jährige als der Deutschsprachige Teil

```{r, echo=FALSE,message=FALSE,fig.height = 12,  fig.width = 15}
function_language_diff(dataset="UniGe", YearM=1888, Both="no")
```

## Poisson Regression Original - 1900

1900 leben nur noch im italienische Teil signifikant mehr Ü90 Jährige als im Deutschsprachige Teil.

```{r, echo=FALSE,message=FALSE,fig.height = 12,  fig.width = 15}
function_language_diff(dataset="Original", YearM=1900, Both ="no")
```

## Poisson Regression Erhebungsjahr

Zwischen den Jahren 1888 und 1900 gibt es keinen signifikanten Unterschied zwischen der Anzahl der Ü90 Jährigen.

```{r, echo=FALSE,message=FALSE,fig.height = 12,  fig.width = 15}
function_language_diff(dataset="Original",Both ="yes")
```

# Regression Alter

* Nur Daten mit einem Sterbealter
* Alle Modelle sind immer nach Erhebungsjahr kontrolliert

Nur das Jahr: Zwischen 1888 und 1900 gibt es keinen sigifikanten Unterschied im Sterbealter

```{r, echo=FALSE,message=FALSE,fig.height = 12,  fig.width = 15}
function_age_dead(Var="Year")
```

Sprachregionen: Es gibt keine signifikanten Unterschiede zwischen Sterbealter und den Sprachregionen
```{r, echo=FALSE,message=FALSE,fig.height = 12,  fig.width = 15}
function_age_dead(Var="Language")
```

Wohnhöhe: Es gibt keine signifikanten Unterschiede zwischen Sterbealter und der Wohnhöhe
```{r, echo=FALSE,message=FALSE,fig.height = 12,  fig.width = 15}
function_age_dead(Var="Altitude")
```

Wohnhöhe Kategorial: Es gibt keine signifikanten Unterschiede zwischen Sterbealter und der Wohnhöhe
```{r, echo=FALSE,message=FALSE,fig.height = 12,  fig.width = 15}
function_age_dead(Var="Altitude_cat")
```

Interaktion Wohnhöhe + Sprachregion: Es gibt keine signifikanten Interaktionen zwischen Sterbealter, Wohnhöhe und Sprachregion
```{r, echo=FALSE,message=FALSE,fig.height = 12,  fig.width = 15}
function_age_dead(Var="Altitude_Language")
```

